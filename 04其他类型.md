
# ğŸ’¯ğŸ’¯ğŸ’¯ç¬¦æ–‡ï¼ˆRunesï¼‰â€”â€” ç”¨äºè¡¨ç¤º Unicode å­—ç¬¦

---

## âœ… 1. ä»€ä¹ˆæ˜¯ç¬¦æ–‡

> Dart çš„å­—ç¬¦ä¸²æ˜¯ UTF-16 ç¼–ç ï¼Œè€Œ **runes** è¡¨ç¤º Unicode ç ç‚¹åºåˆ—ã€‚
> å½“ä½ éœ€è¦å¤„ç†è¡¨æƒ…ç¬¦å·ã€ç‰¹æ®Šè¯­è¨€å­—ç¬¦æ—¶ï¼Œå°±è¦ç”¨ `Runes`ã€‚

---

## âœ… 2. åŸºæœ¬ä½¿ç”¨

```dart
void main() {
  // æ™®é€šå­—ç¬¦
  var heart = '\u2665'; // â™¥
  print(heart);

  // è¡¨æƒ…ç¬¦å·ï¼ˆéœ€è¦å››ä½ä»¥ä¸Š Unicodeï¼‰
  var smile = '\u{1f600}'; // ğŸ˜€
  print(smile);

  // æŸ¥çœ‹å­—ç¬¦ä¸²çš„ç¬¦æ–‡å€¼
  var text = 'Hi ğŸ˜€';
  print(text.runes.toList()); // [72, 105, 32, 128512]
}
```

---

## âœ… 3. Runes ä¸ String çš„è½¬æ¢

```dart
var runes = Runes('\u{1F602} \u{1F609}');
var str = String.fromCharCodes(runes);
print(str); // ğŸ˜‚ ğŸ˜‰
```

---

## âœ… 4. éå†ç¬¦æ–‡å­—ç¬¦ï¼ˆé˜²æ­¢ä¹±ç ï¼‰

```dart
String emoji = 'ğŸ‘‹ğŸŒ';
for (var rune in emoji.runes) {
  print(String.fromCharCode(rune));
}
```

è¾“å‡ºï¼š

```
ğŸ‘‹
ğŸŒ
```

---

## âœ… 5. ç”¨é€”åœºæ™¯

* âœ… å¤„ç† emojiã€éæ‹‰ä¸æ–‡å­—ã€ç¬¦å·æ–‡å­—ï¼ˆå¦‚ä¸­æ–‡ã€é˜¿æ‹‰ä¼¯è¯­ï¼‰
* âœ… å®ç°å­—ç¬¦ä¸²å®‰å…¨éå†ï¼ˆé˜²æ­¢ UTF-16 åˆ†å‰²é”™è¯¯ï¼‰
* âœ… åœ¨ Flutter å›½é™…åŒ–ï¼ˆi18nï¼‰æ–‡æœ¬å¤„ç†ä¸­å¸¸è§

---

# ğŸ’¯ğŸ’¯ğŸ’¯ç¬¦å·ï¼ˆSymbolï¼‰â€”â€” å…ƒç¼–ç¨‹ä¸­çš„æ ‡è¯†ç¬¦

---

## âœ… 1. ä»€ä¹ˆæ˜¯ Symbolï¼Ÿ

> `Symbol` æ˜¯ Dart ä¸­çš„ä¸€ç§**æ ‡è¯†ç¬¦å°è£…ç±»å‹**ã€‚
> å®ƒé€šå¸¸ç”¨æ¥åœ¨åå°„ï¼ˆmirrorsï¼‰æˆ–æ¡†æ¶åº•å±‚åŠ¨æ€è®¿é—®å±æ€§ã€‚

---

## âœ… 2. åˆ›å»ºç¬¦å·

```dart
// ç”¨ # å‰ç¼€è¡¨ç¤º
Symbol s1 = #myVariable;
Symbol s2 = #myFunction;
print(s1); // Symbol("myVariable")
```

---

## âœ… 3. é€šè¿‡ Symbol è®¿é—®å¯¹è±¡æˆå‘˜ï¼ˆåå°„ç¤ºä¾‹ï¼‰

> âš ï¸ æ³¨æ„ï¼šDart Web ä¸ Flutter é»˜è®¤ä¸æ”¯æŒ `dart:mirrors`ï¼ˆä¸ºäº†ä½“ç§¯ä¼˜åŒ–ï¼‰ï¼Œ
> ä½†åœ¨æ§åˆ¶å°åº”ç”¨ä¸­å¯ä»¥ä½¿ç”¨ã€‚

```dart
import 'dart:mirrors';

class Person {
  String name = 'Alice';
  void greet() => print('Hello $name!');
}

void main() {
  var p = Person();
  var mirror = reflect(p);

  // é€šè¿‡ç¬¦å·è®¿é—®å­—æ®µ
  var nameSymbol = #name;
  print(mirror.getField(nameSymbol).reflectee); // Alice

  // é€šè¿‡ç¬¦å·è°ƒç”¨æ–¹æ³•
  mirror.invoke(#greet, []); // Hello Alice!
}
```

---

## âœ… 4. Symbol çš„å¸¸ç”¨æ–¹æ³•

| æ–¹æ³•                    | è¯´æ˜               |
| --------------------- | ---------------- |
| `Symbol(String name)` | åˆ›å»ºç¬¦å·å¯¹è±¡           |
| `#identifier`         | ç®€å†™ç¬¦å·             |
| `.toString()`         | è¾“å‡º Symbol åç§°     |
| `==`                  | æ¯”è¾ƒä¸¤ä¸ª Symbol æ˜¯å¦ç›¸ç­‰ |

---

## âœ… 5. ä½¿ç”¨åœºæ™¯

* âœ… åœ¨åå°„æœºåˆ¶ï¼ˆåå°„è®¿é—®å¯¹è±¡å±æ€§ï¼‰
* âœ… åœ¨ Flutter å†…éƒ¨ï¼ˆWidget Keyã€Dynamic Invokeï¼‰
* âœ… æ„å»ºæ¡†æ¶æ—¶å®ç°åŠ¨æ€æ³¨å†Œã€æ–¹æ³•æŸ¥æ‰¾

---

# ğŸ’¯ğŸ’¯ğŸ’¯åŠ¨æ€ç±»å‹ï¼ˆdynamicï¼‰

---

## âœ… 1. ä»€ä¹ˆæ˜¯ `dynamic`

> `dynamic` è¡¨ç¤ºâ€œç¼–è¯‘æ—¶ä¸ç¡®å®šç±»å‹â€çš„å˜é‡ã€‚
> ç±»ä¼¼äº JavaScript çš„åŠ¨æ€ç±»å‹å˜é‡ï¼Œ
> **ç¼–è¯‘å™¨ä¸ä¼šæ£€æŸ¥ç±»å‹ï¼Œç›´åˆ°è¿è¡Œæ—¶æ‰åˆ¤æ–­ã€‚**

---

## âœ… 2. åŸºæœ¬ä½¿ç”¨

```dart
void main() {
  dynamic x = 10;
  print(x); // 10

  x = 'Hello';  // âœ… å¯ä»¥æ”¹ç±»å‹
  print(x); // Hello

  x = true;
  print(x); // true
}
```

---

## âœ… 3. ä¸ `var`ã€`Object` çš„åŒºåˆ«

| ç‰¹æ€§    | `var` | `dynamic`    | `Object` |
| ----- | ----- | ------------ | -------- |
| ç¼–è¯‘æ—¶ç±»å‹ | è‡ªåŠ¨æ¨æ–­  | åŠ¨æ€ï¼ˆä¸æ£€æŸ¥ï¼‰      | é™æ€ç±»å‹     |
| è¿è¡Œæ—¶ç±»å‹ | å¯å˜åŒ–   | å¯å˜åŒ–          | å¯å˜åŒ–      |
| ç¼–è¯‘æ£€æŸ¥  | âœ… æœ‰   | âŒ æ—           | âœ… æœ‰ï¼ˆéœ€å¼ºè½¬ï¼‰ |
| å¸¸ç”¨åœºæ™¯  | å¸¸è§„å˜é‡  | åŠ¨æ€ JSONã€åå°„è°ƒç”¨ | æ··åˆç±»å‹å®‰å…¨å¤„ç† |

ğŸ”¸ ä¸¾ä¾‹ï¼š

```dart
var a = 10;     // ç¼–è¯‘å™¨è®¤ä¸ºæ˜¯ int
// a = 'Hi';   âŒ é”™è¯¯

dynamic b = 10;
b = 'Hi';       // âœ… å…è®¸

Object c = 10;
c = 'Hi';       // âœ… å…è®¸ï¼Œä½†éœ€å¼ºåˆ¶è½¬æ¢
print((c as String).length);
```

---

## âœ… 4. åŠ¨æ€ç±»å‹çš„å…¸å‹ç”¨é€”

```dart
// JSON åŠ¨æ€è§£æ
void handle(dynamic value) {
  if (value is String) {
    print('å­—ç¬¦ä¸²é•¿åº¦ï¼š${value.length}');
  } else if (value is int) {
    print('æ•°å€¼å¹³æ–¹ï¼š${value * value}');
  } else {
    print('æœªçŸ¥ç±»å‹ï¼š$value');
  }
}

void main() {
  handle('Hello');
  handle(5);
  handle([1, 2, 3]);
}
```

è¾“å‡ºï¼š

```
å­—ç¬¦ä¸²é•¿åº¦ï¼š5
æ•°å€¼å¹³æ–¹ï¼š25
æœªçŸ¥ç±»å‹ï¼š[1, 2, 3]
```

---

## âœ… 5. åŠ¨æ€è°ƒç”¨å±æ€§å’Œæ–¹æ³•ï¼ˆâš ï¸ å°å¿ƒï¼‰

```dart
dynamic person = {'name': 'Tom'};
// print(person.name); âŒ æŠ¥é”™ï¼ˆåŠ¨æ€å¯¹è±¡ä¸æ”¯æŒç‚¹è¯­æ³•ï¼‰
print(person['name']); // âœ… æ­£ç¡®
```

âš ï¸ åŠ¨æ€è°ƒç”¨æ—¶ç¼–è¯‘å™¨ä¸ä¼šå¸®ä½ æ£€æŸ¥é”™è¯¯ï¼š

```dart
dynamic a = 'hello';
print(a.notExist()); // âŒ è¿è¡Œæ—¶æ‰æŠ¥é”™
```

---

# ğŸ§  å››ã€ç»¼åˆç¤ºä¾‹

```dart
void main() {
  // 1ï¸âƒ£ ç¬¦æ–‡ï¼šè¡¨æƒ…å­—ç¬¦å¤„ç†
  var emoji = Runes('\u{1F600}');
  print(String.fromCharCodes(emoji)); // ğŸ˜€

  // 2ï¸âƒ£ ç¬¦å·ï¼šå®šä¹‰å±æ€§æ ‡è¯†ç¬¦
  Symbol s = #hello;
  print(s); // Symbol("hello")

  // 3ï¸âƒ£ åŠ¨æ€ç±»å‹ï¼šçµæ´»å˜é‡
  dynamic x = 42;
  print(x + 1); // 43
  x = 'Dart';
  print(x.toUpperCase()); // DART
}
```

---

# ğŸ¯ äº”ã€æ€»ç»“è¡¨

| ç±»å‹        | åç§°   | ç‰¹ç‚¹              | å¸¸è§ç”¨é€”                |
| --------- | ---- | --------------- | ------------------- |
| `Runes`   | ç¬¦æ–‡   | è¡¨ç¤º Unicode å­—ç¬¦åºåˆ— | è¡¨æƒ…ã€å›½é™…åŒ–å­—ç¬¦å¤„ç†          |
| `Symbol`  | ç¬¦å·   | æ ‡è¯†ç¬¦å°è£…å¯¹è±¡         | åå°„ã€å…ƒç¼–ç¨‹ã€åŠ¨æ€è®¿é—®å±æ€§       |
| `dynamic` | åŠ¨æ€ç±»å‹ | è¿è¡Œæ—¶å†³å®šç±»å‹         | åŠ¨æ€ JSONã€å¯å˜ç»“æ„ã€å¿«é€ŸåŸå‹å¼€å‘ |

