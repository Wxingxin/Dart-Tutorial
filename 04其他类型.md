非常棒 👍
你现在进入 Dart 中“**其他类型**”部分的学习：

> 🔹 **符文（Runes）** → 处理 Unicode 字符
> 🔹 **符号（Symbol）** → Dart 的元编程标识符
> 🔹 **动态类型（dynamic）** → 动态类型系统核心

这三类在 Dart 中虽然不如 List/Map 常用，但在高级编程、Flutter Widget、反射（mirror）和国际化中都非常关键。
下面是 **详细大全 + 经典用法 + 对比总结**。

---

# 🧩 一、符文（Runes）—— 用于表示 Unicode 字符

---

## ✅ 1. 什么是符文

> Dart 的字符串是 UTF-16 编码，而 **runes** 表示 Unicode 码点序列。
> 当你需要处理表情符号、特殊语言字符时，就要用 `Runes`。

---

## ✅ 2. 基本使用

```dart
void main() {
  // 普通字符
  var heart = '\u2665'; // ♥
  print(heart);

  // 表情符号（需要四位以上 Unicode）
  var smile = '\u{1f600}'; // 😀
  print(smile);

  // 查看字符串的符文值
  var text = 'Hi 😀';
  print(text.runes.toList()); // [72, 105, 32, 128512]
}
```

---

## ✅ 3. Runes 与 String 的转换

```dart
var runes = Runes('\u{1F602} \u{1F609}');
var str = String.fromCharCodes(runes);
print(str); // 😂 😉
```

---

## ✅ 4. 遍历符文字符（防止乱码）

```dart
String emoji = '👋🌍';
for (var rune in emoji.runes) {
  print(String.fromCharCode(rune));
}
```

输出：

```
👋
🌍
```

---

## ✅ 5. 用途场景

* ✅ 处理 emoji、非拉丁文字、符号文字（如中文、阿拉伯语）
* ✅ 实现字符串安全遍历（防止 UTF-16 分割错误）
* ✅ 在 Flutter 国际化（i18n）文本处理中常见

---

# 🌀 二、符号（Symbol）—— 元编程中的标识符

---

## ✅ 1. 什么是 Symbol？

> `Symbol` 是 Dart 中的一种**标识符封装类型**。
> 它通常用来在反射（mirrors）或框架底层动态访问属性。

---

## ✅ 2. 创建符号

```dart
// 用 # 前缀表示
Symbol s1 = #myVariable;
Symbol s2 = #myFunction;
print(s1); // Symbol("myVariable")
```

---

## ✅ 3. 通过 Symbol 访问对象成员（反射示例）

> ⚠️ 注意：Dart Web 与 Flutter 默认不支持 `dart:mirrors`（为了体积优化），
> 但在控制台应用中可以使用。

```dart
import 'dart:mirrors';

class Person {
  String name = 'Alice';
  void greet() => print('Hello $name!');
}

void main() {
  var p = Person();
  var mirror = reflect(p);

  // 通过符号访问字段
  var nameSymbol = #name;
  print(mirror.getField(nameSymbol).reflectee); // Alice

  // 通过符号调用方法
  mirror.invoke(#greet, []); // Hello Alice!
}
```

---

## ✅ 4. Symbol 的常用方法

| 方法                    | 说明               |
| --------------------- | ---------------- |
| `Symbol(String name)` | 创建符号对象           |
| `#identifier`         | 简写符号             |
| `.toString()`         | 输出 Symbol 名称     |
| `==`                  | 比较两个 Symbol 是否相等 |

---

## ✅ 5. 使用场景

* ✅ 在反射机制（反射访问对象属性）
* ✅ 在 Flutter 内部（Widget Key、Dynamic Invoke）
* ✅ 构建框架时实现动态注册、方法查找

---

# 🔮 三、动态类型（dynamic）

---

## ✅ 1. 什么是 `dynamic`

> `dynamic` 表示“编译时不确定类型”的变量。
> 类似于 JavaScript 的动态类型变量，
> **编译器不会检查类型，直到运行时才判断。**

---

## ✅ 2. 基本使用

```dart
void main() {
  dynamic x = 10;
  print(x); // 10

  x = 'Hello';  // ✅ 可以改类型
  print(x); // Hello

  x = true;
  print(x); // true
}
```

---

## ✅ 3. 与 `var`、`Object` 的区别

| 特性    | `var` | `dynamic`    | `Object` |
| ----- | ----- | ------------ | -------- |
| 编译时类型 | 自动推断  | 动态（不检查）      | 静态类型     |
| 运行时类型 | 可变化   | 可变化          | 可变化      |
| 编译检查  | ✅ 有   | ❌ 无          | ✅ 有（需强转） |
| 常用场景  | 常规变量  | 动态 JSON、反射调用 | 混合类型安全处理 |

🔸 举例：

```dart
var a = 10;     // 编译器认为是 int
// a = 'Hi';   ❌ 错误

dynamic b = 10;
b = 'Hi';       // ✅ 允许

Object c = 10;
c = 'Hi';       // ✅ 允许，但需强制转换
print((c as String).length);
```

---

## ✅ 4. 动态类型的典型用途

```dart
// JSON 动态解析
void handle(dynamic value) {
  if (value is String) {
    print('字符串长度：${value.length}');
  } else if (value is int) {
    print('数值平方：${value * value}');
  } else {
    print('未知类型：$value');
  }
}

void main() {
  handle('Hello');
  handle(5);
  handle([1, 2, 3]);
}
```

输出：

```
字符串长度：5
数值平方：25
未知类型：[1, 2, 3]
```

---

## ✅ 5. 动态调用属性和方法（⚠️ 小心）

```dart
dynamic person = {'name': 'Tom'};
// print(person.name); ❌ 报错（动态对象不支持点语法）
print(person['name']); // ✅ 正确
```

⚠️ 动态调用时编译器不会帮你检查错误：

```dart
dynamic a = 'hello';
print(a.notExist()); // ❌ 运行时才报错
```

---

# 🧠 四、综合示例

```dart
void main() {
  // 1️⃣ 符文：表情字符处理
  var emoji = Runes('\u{1F600}');
  print(String.fromCharCodes(emoji)); // 😀

  // 2️⃣ 符号：定义属性标识符
  Symbol s = #hello;
  print(s); // Symbol("hello")

  // 3️⃣ 动态类型：灵活变量
  dynamic x = 42;
  print(x + 1); // 43
  x = 'Dart';
  print(x.toUpperCase()); // DART
}
```

---

# 🎯 五、总结表

| 类型        | 名称   | 特点              | 常见用途                |
| --------- | ---- | --------------- | ------------------- |
| `Runes`   | 符文   | 表示 Unicode 字符序列 | 表情、国际化字符处理          |
| `Symbol`  | 符号   | 标识符封装对象         | 反射、元编程、动态访问属性       |
| `dynamic` | 动态类型 | 运行时决定类型         | 动态 JSON、可变结构、快速原型开发 |

---

是否要我接下来帮你整理一份
👉 **Dart 函数与闭包使用大全（箭头函数、命名参数、可选参数、返回函数、匿名函数）**？
这一部分非常重要，是 Dart/Flutter 编程的“函数式基础”。
