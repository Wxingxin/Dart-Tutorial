非常好 👍
你现在学习的是 Dart 中最核心的语法之一 —— **函数（Functions）体系**。
Dart 的函数语法非常灵活：
既可以像 JavaScript 一样用匿名函数、箭头函数、闭包，也可以像 Java/C# 一样拥有强类型参数、默认值和命名参数。

下面是一份完整的 **Dart 函数使用大全（含 main 函数 + 箭头函数 + 参数类型）** 👇

---

# 🧩 一、Dart 函数的基本定义

---

## ✅ 1. 基本语法

```dart
返回类型 函数名(参数列表) {
  // 函数体
  return 返回值;
}
```

示例：

```dart
int add(int a, int b) {
  return a + b;
}
```

调用：

```dart
void main() {
  print(add(3, 5)); // 输出 8
}
```

---

# 🏁 二、main() 函数

---

`main()` 是 Dart 程序的入口函数，类似于 C、Java 的 `main()`。

## ✅ 1. 基本结构

```dart
void main() {
  print('Hello Dart!');
}
```

## ✅ 2. 带参数的 main()

```dart
void main(List<String> args) {
  print('参数: $args');
}
```

运行：

```bash
dart run main.dart hello world
```

输出：

```
参数: [hello, world]
```

---

# ⚡️ 三、箭头函数（Arrow Function）

---

箭头函数是简写形式，用于返回单个表达式的函数。

## ✅ 语法：

```dart
返回类型 函数名(参数) => 表达式;
```

示例：

```dart
int square(int n) => n * n;
```

相当于：

```dart
int square(int n) {
  return n * n;
}
```

---

## ✅ 用于匿名函数：

```dart
var numbers = [1, 2, 3];
numbers.forEach((n) => print(n * n));
```

---

## ✅ 无返回类型（隐式 dynamic）

```dart
sayHello(String name) => print('Hello $name');
```

---

# 🧠 四、函数参数类型大全

Dart 的参数有三种主要类型👇

| 参数类型   | 语法形式     | 调用方式             | 是否可省略  |
| ------ | -------- | ---------------- | ------ |
| 必需参数   | `(a, b)` | `f(1, 2)`        | ❌ 不可省略 |
| 可选位置参数 | `[a, b]` | `f(1)`、`f(1, 2)` | ✅ 可省略  |
| 可选命名参数 | `{a, b}` | `f(a: 1)`        | ✅ 可省略  |

---

## ✅ 1. 必需参数（Required Parameters）

```dart
void greet(String name, int age) {
  print('Hi $name, you are $age years old.');
}

void main() {
  greet('Tom', 20);
}
```

⚠️ 注意：必需参数 **顺序固定，不可缺省**。

---

## ✅ 2. 可选位置参数（Optional Positional Parameters）

> 用中括号 `[ ]` 包裹，可选填，支持默认值。

```dart
void greet(String name, [String country = 'China']) {
  print('Hi $name from $country');
}

void main() {
  greet('Alice');           // Hi Alice from China
  greet('Bob', 'USA');      // Hi Bob from USA
}
```

---

## ✅ 3. 可选命名参数（Optional Named Parameters）

> 用花括号 `{ }` 包裹，调用时必须写参数名。

```dart
void greet({String name = 'Guest', int age = 0}) {
  print('Hello $name, age: $age');
}

void main() {
  greet();                         // Hello Guest, age: 0
  greet(name: 'Tom');              // Hello Tom, age: 0
  greet(name: 'Alice', age: 18);   // Hello Alice, age: 18
}
```

---

## ✅ 4. 必需命名参数（Required Named Parameters）

> 从 Dart 2.12 开始，推荐使用 `required` 关键字。

```dart
void greet({required String name, required int age}) {
  print('Hello $name, age: $age');
}

void main() {
  // greet(); ❌ 错误，必须提供
  greet(name: 'Bob', age: 20); // ✅ 正确
}
```

---

## ✅ 5. 混合使用（必需参数 + 可选命名参数）

```dart
void describe(String title, {int stars = 5, String comment = 'Great!'}) {
  print('$title: $stars stars - $comment');
}

void main() {
  describe('Product'); // Product: 5 stars - Great!
  describe('Service', stars: 4, comment: 'Nice!');
}
```

---

# 🔁 五、函数作为变量与参数

---

## ✅ 函数可以赋值给变量

```dart
int add(int a, int b) => a + b;

void main() {
  var fn = add;
  print(fn(2, 3)); // 5
}
```

---

## ✅ 函数可以作为参数传递

```dart
void apply(Function fn) {
  print(fn(10, 5));
}

int multiply(int a, int b) => a * b;

void main() {
  apply(multiply); // 50
}
```

---

# 🌀 六、匿名函数（Lambda）

---

```dart
void main() {
  var list = [1, 2, 3];

  // 匿名函数写法
  list.forEach((item) {
    print(item * 2);
  });

  // 箭头函数简写
  list.forEach((item) => print(item * 2));
}
```

---

# 🧩 七、返回函数（闭包）

---

Dart 支持闭包（函数嵌套函数）。

```dart
Function makeAdder(int addBy) {
  return (int i) => i + addBy;
}

void main() {
  var add2 = makeAdder(2);
  print(add2(5)); // 7

  var add10 = makeAdder(10);
  print(add10(5)); // 15
}
```

> 💡 闭包会“捕获”外部变量 `addBy`，即使函数返回后依旧能使用。

---

# 🧮 八、函数的类型声明

---

```dart
int add(int a, int b) => a + b;

void main() {
  int Function(int, int) operation = add;
  print(operation(3, 4)); // 7
}
```

---

# 📘 九、总结表

| 类型     | 语法                      | 示例                   |
| ------ | ----------------------- | -------------------- |
| 普通函数   | `int add(int a, int b)` | `return a + b;`      |
| 箭头函数   | `=>`                    | `int add(a,b)=>a+b;` |
| 必需参数   | `(a,b)`                 | `f(1,2)`             |
| 可选位置参数 | `[a,b]`                 | `f(1)`               |
| 可选命名参数 | `{a,b}`                 | `f(a:1)`             |
| 必需命名参数 | `{required a}`          | `f(a:1)`             |
| 匿名函数   | `(x){return x*x;}`      |                      |
| 闭包     | `return (y)=>x+y;`      |                      |

---

是否希望我接着帮你写一份
👉 **「Dart 函数进阶篇」**（包括函数类型、typedef 类型别名、匿名函数、闭包深入机制、箭头函数陷阱等）？
这部分内容是 Flutter 中回调函数、事件函数的底层原理。
