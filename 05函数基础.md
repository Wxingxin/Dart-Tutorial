
---

# ğŸ§© ä¸€ã€Dart å‡½æ•°çš„åŸºæœ¬å®šä¹‰

---

## âœ… 1. åŸºæœ¬è¯­æ³•

```dart
è¿”å›ç±»å‹ å‡½æ•°å(å‚æ•°åˆ—è¡¨) {
  // å‡½æ•°ä½“
  return è¿”å›å€¼;
}
```

ç¤ºä¾‹ï¼š

```dart
int add(int a, int b) {
  return a + b;
}
```

è°ƒç”¨ï¼š

```dart
void main() {
  print(add(3, 5)); // è¾“å‡º 8
}
```

---

# ğŸ äºŒã€main() å‡½æ•°

---

`main()` æ˜¯ Dart ç¨‹åºçš„å…¥å£å‡½æ•°ï¼Œç±»ä¼¼äº Cã€Java çš„ `main()`ã€‚

## âœ… 1. åŸºæœ¬ç»“æ„

```dart
void main() {
  print('Hello Dart!');
}
```

## âœ… 2. å¸¦å‚æ•°çš„ main()

```dart
void main(List<String> args) {
  print('å‚æ•°: $args');
}
```

è¿è¡Œï¼š

```bash
dart run main.dart hello world
```

è¾“å‡ºï¼š

```
å‚æ•°: [hello, world]
```

---

# âš¡ï¸ ä¸‰ã€ç®­å¤´å‡½æ•°ï¼ˆArrow Functionï¼‰

---

ç®­å¤´å‡½æ•°æ˜¯ç®€å†™å½¢å¼ï¼Œç”¨äºè¿”å›å•ä¸ªè¡¨è¾¾å¼çš„å‡½æ•°ã€‚

## âœ… è¯­æ³•ï¼š

```dart
è¿”å›ç±»å‹ å‡½æ•°å(å‚æ•°) => è¡¨è¾¾å¼;
```

ç¤ºä¾‹ï¼š

```dart
int square(int n) => n * n;
```

ç›¸å½“äºï¼š

```dart
int square(int n) {
  return n * n;
}
```

---

## âœ… ç”¨äºåŒ¿åå‡½æ•°ï¼š

```dart
var numbers = [1, 2, 3];
numbers.forEach((n) => print(n * n));
```

---

## âœ… æ— è¿”å›ç±»å‹ï¼ˆéšå¼ dynamicï¼‰

```dart
sayHello(String name) => print('Hello $name');
```

---

# ğŸ§  å››ã€å‡½æ•°å‚æ•°ç±»å‹å¤§å…¨

Dart çš„å‚æ•°æœ‰ä¸‰ç§ä¸»è¦ç±»å‹ğŸ‘‡

| å‚æ•°ç±»å‹   | è¯­æ³•å½¢å¼     | è°ƒç”¨æ–¹å¼             | æ˜¯å¦å¯çœç•¥  |
| ------ | -------- | ---------------- | ------ |
| å¿…éœ€å‚æ•°   | `(a, b)` | `f(1, 2)`        | âŒ ä¸å¯çœç•¥ |
| å¯é€‰ä½ç½®å‚æ•° | `[a, b]` | `f(1)`ã€`f(1, 2)` | âœ… å¯çœç•¥  |
| å¯é€‰å‘½åå‚æ•° | `{a, b}` | `f(a: 1)`        | âœ… å¯çœç•¥  |

---

## âœ… 1. å¿…éœ€å‚æ•°ï¼ˆRequired Parametersï¼‰

```dart
void greet(String name, int age) {
  print('Hi $name, you are $age years old.');
}

void main() {
  greet('Tom', 20);
}
```

âš ï¸ æ³¨æ„ï¼šå¿…éœ€å‚æ•° **é¡ºåºå›ºå®šï¼Œä¸å¯ç¼ºçœ**ã€‚

---

## âœ… 2. å¯é€‰ä½ç½®å‚æ•°ï¼ˆOptional Positional Parametersï¼‰

> ç”¨ä¸­æ‹¬å· `[ ]` åŒ…è£¹ï¼Œå¯é€‰å¡«ï¼Œæ”¯æŒé»˜è®¤å€¼ã€‚

```dart
void greet(String name, [String country = 'China']) {
  print('Hi $name from $country');
}

void main() {
  greet('Alice');           // Hi Alice from China
  greet('Bob', 'USA');      // Hi Bob from USA
}
```

---

## âœ… 3. å¯é€‰å‘½åå‚æ•°ï¼ˆOptional Named Parametersï¼‰

> ç”¨èŠ±æ‹¬å· `{ }` åŒ…è£¹ï¼Œè°ƒç”¨æ—¶å¿…é¡»å†™å‚æ•°åã€‚

```dart
void greet({String name = 'Guest', int age = 0}) {
  print('Hello $name, age: $age');
}

void main() {
  greet();                         // Hello Guest, age: 0
  greet(name: 'Tom');              // Hello Tom, age: 0
  greet(name: 'Alice', age: 18);   // Hello Alice, age: 18
}
```

---

## âœ… 4. å¿…éœ€å‘½åå‚æ•°ï¼ˆRequired Named Parametersï¼‰

> ä» Dart 2.12 å¼€å§‹ï¼Œæ¨èä½¿ç”¨ `required` å…³é”®å­—ã€‚

```dart
void greet({required String name, required int age}) {
  print('Hello $name, age: $age');
}

void main() {
  // greet(); âŒ é”™è¯¯ï¼Œå¿…é¡»æä¾›
  greet(name: 'Bob', age: 20); // âœ… æ­£ç¡®
}
```

---

## âœ… 5. æ··åˆä½¿ç”¨ï¼ˆå¿…éœ€å‚æ•° + å¯é€‰å‘½åå‚æ•°ï¼‰

```dart
void describe(String title, {int stars = 5, String comment = 'Great!'}) {
  print('$title: $stars stars - $comment');
}

void main() {
  describe('Product'); // Product: 5 stars - Great!
  describe('Service', stars: 4, comment: 'Nice!');
}
```

---

# ğŸ” äº”ã€å‡½æ•°ä½œä¸ºå˜é‡ä¸å‚æ•°

---

## âœ… å‡½æ•°å¯ä»¥èµ‹å€¼ç»™å˜é‡

```dart
int add(int a, int b) => a + b;

void main() {
  var fn = add;
  print(fn(2, 3)); // 5
}
```

---

## âœ… å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’

```dart
void apply(Function fn) {
  print(fn(10, 5));
}

int multiply(int a, int b) => a * b;

void main() {
  apply(multiply); // 50
}
```

---

# ğŸŒ€ å…­ã€åŒ¿åå‡½æ•°ï¼ˆLambdaï¼‰

---

```dart
void main() {
  var list = [1, 2, 3];

  // åŒ¿åå‡½æ•°å†™æ³•
  list.forEach((item) {
    print(item * 2);
  });

  // ç®­å¤´å‡½æ•°ç®€å†™
  list.forEach((item) => print(item * 2));
}
```

---

# ğŸ§© ä¸ƒã€è¿”å›å‡½æ•°ï¼ˆé—­åŒ…ï¼‰

---

Dart æ”¯æŒé—­åŒ…ï¼ˆå‡½æ•°åµŒå¥—å‡½æ•°ï¼‰ã€‚

```dart
Function makeAdder(int addBy) {
  return (int i) => i + addBy;
}

void main() {
  var add2 = makeAdder(2);
  print(add2(5)); // 7

  var add10 = makeAdder(10);
  print(add10(5)); // 15
}
```

> ğŸ’¡ é—­åŒ…ä¼šâ€œæ•è·â€å¤–éƒ¨å˜é‡ `addBy`ï¼Œå³ä½¿å‡½æ•°è¿”å›åä¾æ—§èƒ½ä½¿ç”¨ã€‚

---

# ğŸ§® å…«ã€å‡½æ•°çš„ç±»å‹å£°æ˜

---

```dart
int add(int a, int b) => a + b;

void main() {
  int Function(int, int) operation = add;
  print(operation(3, 4)); // 7
}
```

---

# ğŸ“˜ ä¹ã€æ€»ç»“è¡¨

| ç±»å‹     | è¯­æ³•                      | ç¤ºä¾‹                   |
| ------ | ----------------------- | -------------------- |
| æ™®é€šå‡½æ•°   | `int add(int a, int b)` | `return a + b;`      |
| ç®­å¤´å‡½æ•°   | `=>`                    | `int add(a,b)=>a+b;` |
| å¿…éœ€å‚æ•°   | `(a,b)`                 | `f(1,2)`             |
| å¯é€‰ä½ç½®å‚æ•° | `[a,b]`                 | `f(1)`               |
| å¯é€‰å‘½åå‚æ•° | `{a,b}`                 | `f(a:1)`             |
| å¿…éœ€å‘½åå‚æ•° | `{required a}`          | `f(a:1)`             |
| åŒ¿åå‡½æ•°   | `(x){return x*x;}`      |                      |
| é—­åŒ…     | `return (y)=>x+y;`      |                      |

---
---
# 
éå¸¸å¥½ ğŸ‘
è¿™ä¸ªé—®é¢˜æ˜¯ Dart **å‡½æ•°ä½“ç³»**çš„æ ¸å¿ƒâ€”â€”ææ‡‚ã€Œè¿”å›ç±»å‹ã€å’Œã€Œå‚æ•°åˆ—è¡¨ã€èƒ½è®©ä½ å½»åº•æŒæ¡ Dart å‡½æ•°ã€‚

æˆ‘å°†ç³»ç»Ÿåœ°è®²è§£ï¼š

> âœ… Dart å‡½æ•°å®šä¹‰ç»“æ„
> âœ… è¿”å›ç±»å‹ï¼ˆå¯å†™ç±»å‹å¤§å…¨ + ç¤ºä¾‹ï¼‰
> âœ… å‚æ•°åˆ—è¡¨ï¼ˆåˆ†ç±» + ç”¨æ³• + ç±»å‹å¤§å…¨ï¼‰
> âœ… ç»“åˆç»å…¸æ¡ˆä¾‹è®²è§£

---

## ğŸ§­ ä¸€ã€Dart å‡½æ•°å®šä¹‰ç»“æ„

Dart ä¸­å‡½æ•°çš„æ ‡å‡†ç»“æ„å¦‚ä¸‹ ğŸ‘‡

```dart
è¿”å›ç±»å‹ å‡½æ•°å(å‚æ•°åˆ—è¡¨) {
  // å‡½æ•°ä½“
  return è¿”å›å€¼;
}
```

ä¾‹å¦‚ï¼š

```dart
int add(int a, int b) {
  return a + b;
}
```

---

## ğŸ§© äºŒã€è¿”å›ç±»å‹ï¼ˆReturn Typeï¼‰å¤§å…¨

Dart çš„å‡½æ•°è¿”å›ç±»å‹å¯ä»¥æ˜¯**ä»»æ„ç±»å‹**ï¼ŒåŒ…æ‹¬ï¼š

| ç±»å‹ç±»åˆ«               | ç¤ºä¾‹                          | è¯´æ˜                   |
| ------------------ | --------------------------- | -------------------- |
| ğŸ”¹ æ•°å€¼ç±»å‹            | `int`, `double`, `num`      | æ•´æ•°ã€å°æ•°                |
| ğŸ”¹ å­—ç¬¦ä¸²ç±»å‹           | `String`                    | å­—ç¬¦ä¸²                  |
| ğŸ”¹ å¸ƒå°”ç±»å‹            | `bool`                      | çœŸ/å‡                  |
| ğŸ”¹ åˆ—è¡¨ç±»å‹            | `List<T>`                   | æ•°ç»„                   |
| ğŸ”¹ æ˜ å°„ç±»å‹            | `Map<K,V>`                  | é”®å€¼å¯¹                  |
| ğŸ”¹ é›†åˆç±»å‹            | `Set<T>`                    | æ— é‡å¤é›†åˆ                |
| ğŸ”¹ åŠ¨æ€ç±»å‹            | `dynamic`                   | å¯ä»¥è¿”å›ä»»æ„ç±»å‹ï¼ˆä¸æ¨èé¢‘ç¹ä½¿ç”¨ï¼‰    |
| ğŸ”¹ å¯¹è±¡ç±»å‹            | `Object`                    | æ‰€æœ‰ç±»å‹çš„çˆ¶ç±»              |
| ğŸ”¹ Future / Stream | `Future<T>`, `Stream<T>`    | å¼‚æ­¥è¿”å›ï¼ˆå¸¸ç”¨äºå¼‚æ­¥ç¼–ç¨‹ / ç½‘ç»œè¯·æ±‚ï¼‰ |
| ğŸ”¹ void            | `void`                      | æ— è¿”å›å€¼                 |
| ğŸ”¹ è‡ªå®šä¹‰ç±»            | `Person`, `User`            | è¿”å›è‡ªå®šä¹‰å¯¹è±¡              |
| ğŸ”¹ å‡½æ•°ç±»å‹            | `Function`, `(int)=>String` | è¿”å›å‡½æ•°ï¼ˆé«˜é˜¶å‡½æ•°ï¼‰           |
| ğŸ”¹ Null            | `Null`                      | è¿”å›ç©ºå€¼                 |

---

### ğŸ“˜ ç¤ºä¾‹

```dart
int sum(int a, int b) => a + b;

double getArea(double r) => 3.14 * r * r;

String greet(String name) => 'Hello $name';

bool isEven(int n) => n % 2 == 0;

List<int> getNumbers() => [1, 2, 3];

Map<String, int> getScores() => {'math': 90, 'english': 85};

Set<String> getTags() => {'dart', 'flutter'};

dynamic anything() => 123; // å¯ä»¥è¿”å›ä»»æ„ç±»å‹

Future<String> fetchData() async => 'data'; // å¼‚æ­¥è¿”å›

void logMessage(String msg) => print(msg);

Person createPerson() => Person('Alice');

Function addMaker(int x) => (int y) => x + y; // è¿”å›å‡½æ•°
```

---

## âš™ï¸ ä¸‰ã€å‚æ•°åˆ—è¡¨ç±»å‹å¤§å…¨

Dart çš„å‡½æ•°å‚æ•°éå¸¸çµæ´»ï¼Œåˆ†ä¸ºäº”ç±»ï¼š

---

### â‘  **å¿…éœ€å‚æ•°ï¼ˆå¿…ä¼ ï¼‰**

æœ€å¸¸è§çš„ç±»å‹ï¼š

```dart
int add(int a, int b) {
  return a + b;
}
```

âœ… **å‚æ•°ç±»å‹å¯ä»¥æ˜¯ä»»ä½• Dart ç±»å‹ï¼š**

| ç±»å‹         | ç¤ºä¾‹                          |
| ---------- | --------------------------- |
| `int`      | `int a`                     |
| `double`   | `double price`              |
| `String`   | `String name`               |
| `bool`     | `bool flag`                 |
| `List<T>`  | `List<int> nums`            |
| `Map<K,V>` | `Map<String, dynamic> data` |
| `Set<T>`   | `Set<String> tags`          |
| `Function` | `Function callback`         |
| `Object`   | `Object obj`                |
| `dynamic`  | `dynamic anything`          |
| è‡ªå®šä¹‰ç±»       | `Person person`             |

---

### â‘¡ **å¯é€‰ä½ç½®å‚æ•°ï¼ˆç”¨ `[]` åŒ…è£¹ï¼‰**

å¯é€‰å‚æ•°å¯ä»¥çœç•¥ï¼Œæœªä¼ æ—¶é»˜è®¤ä¸º `null` æˆ–è‡ªå®šä¹‰é»˜è®¤å€¼ã€‚

```dart
void greet(String name, [String? message]) {
  print('Hello $name ${message ?? ''}');
}
```

å¯è®¾é»˜è®¤å€¼ï¼š

```dart
void greet(String name, [String message = 'Welcome!']) {
  print('Hello $name, $message');
}
```

---

### â‘¢ **å‘½åå‚æ•°ï¼ˆç”¨ `{}` åŒ…è£¹ï¼‰**

å‘½åå‚æ•°è°ƒç”¨æ—¶å¿…é¡»ä½¿ç”¨**å‚æ•°å**ã€‚
å®ƒå¯ä»¥è®¾ç½®ä¸º**å¿…å¡«**æˆ–**å¯é€‰**ã€‚

```dart
void printUser({String? name, int? age}) {
  print('Name: $name, Age: $age');
}
```

**å¸¦é»˜è®¤å€¼ï¼š**

```dart
void printUser({String name = 'Unknown', int age = 0}) {
  print('Name: $name, Age: $age');
}
```

**è®¾ä¸ºå¿…å¡«ï¼š**

```dart
void register({required String username, required String password}) {
  print('Register: $username');
}
```

è°ƒç”¨æ—¶ï¼š

```dart
register(username: 'Alice', password: '123456');
```

---

### â‘£ **å¯é€‰ä½ç½®å‚æ•° + å‘½åå‚æ•°æ··åˆä½¿ç”¨**

```dart
void showInfo(String name, {int? age, String city = 'Shanghai'}) {
  print('Name: $name, Age: $age, City: $city');
}

showInfo('Alice', age: 20);
```

---

### â‘¤ **å‡½æ•°ç±»å‹å‚æ•°ï¼ˆé«˜é˜¶å‡½æ•°ï¼‰**

å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼š

```dart
void handleEvent(String event, Function callback) {
  callback();
}

void main() {
  handleEvent('click', () => print('Clicked!'));
}
```

æˆ–è€…å¸¦å…·ä½“ç­¾åï¼š

```dart
void compute(int a, int b, int Function(int, int) op) {
  print(op(a, b));
}

compute(2, 3, (x, y) => x + y);
```

---

## ğŸ§® å››ã€è¿”å›ç±»å‹ Ã— å‚æ•°ç±»å‹ ç»¼åˆç¤ºä¾‹

```dart
// è¿”å› intï¼Œä¼ å…¥ä¸¤ä¸ª int
int add(int a, int b) => a + b;

// è¿”å› Stringï¼Œä¼ å…¥å‘½åå‚æ•°
String greet({required String name, String prefix = 'Hi'}) => '$prefix $name';

// è¿”å› Listï¼Œä¼ å…¥ List å‚æ•°
List<int> doubleAll(List<int> nums) => nums.map((n) => n * 2).toList();

// è¿”å› Future<String>ï¼Œå¼‚æ­¥å‡½æ•°
Future<String> fetchData(String url) async => 'Result from $url';

// è¿”å›è‡ªå®šä¹‰ç±»
class User {
  final String name;
  User(this.name);
}
User createUser(String name) => User(name);
```

---

## ğŸ§¾ äº”ã€æ€»ç»“é€ŸæŸ¥è¡¨

| åˆ†ç±»         | ç¤ºä¾‹                                                                                           | è¯´æ˜           |
| ---------- | -------------------------------------------------------------------------------------------- | ------------ |
| **è¿”å›ç±»å‹**   | `int`, `String`, `bool`, `List`, `Map`, `Set`, `void`, `Future`, `dynamic`, `Function`, è‡ªå®šä¹‰ç±» | å‡½æ•°è¿”å›å€¼çš„ç±»å‹     |
| **å¿…éœ€å‚æ•°**   | `(int a, int b)`                                                                             | å¿…é¡»ä¼ å…¥         |
| **å¯é€‰ä½ç½®å‚æ•°** | `([String? name])`                                                                           | å¯çœç•¥ï¼Œç”¨ `[]`   |
| **å‘½åå‚æ•°**   | `({int age = 0})`                                                                            | ç”¨ `{}`ï¼Œå¯å¸¦é»˜è®¤å€¼ |
| **å¿…å¡«å‘½åå‚æ•°** | `({required String name})`                                                                   | å¿…é¡»ä¼ å…¥å‘½åå‚æ•°     |
| **å‡½æ•°å‚æ•°**   | `(Function callback)`                                                                        | ä¼ å…¥ä¸€ä¸ªå‡½æ•°       |
| **åŠ¨æ€å‚æ•°**   | `(dynamic value)`                                                                            | ä»»ä½•ç±»å‹         |

---

## ğŸ§  å…­ã€è¡¥å……ï¼š`=>` ç®€å†™å‡½æ•°ï¼ˆç®­å¤´å‡½æ•°ï¼‰

å½“å‡½æ•°åªæœ‰ä¸€è¡Œæ—¶å¯ç®€å†™ï¼š

```dart
int add(int a, int b) => a + b;
void sayHi(String name) => print('Hi, $name!');
```

ç›¸å½“äºï¼š

```dart
int add(int a, int b) {
  return a + b;
}
```

---

æ˜¯å¦å¸Œæœ›æˆ‘æ¥ä¸‹æ¥å¸®ä½ åšä¸€å¼ 
ğŸ§© **ã€ŒDart å‡½æ•°ç»“æ„ + å‚æ•°ç±»å‹ + è¿”å›ç±»å‹æ€ç»´å¯¼å›¾ã€**ï¼Ÿ
å›¾ä¸­ä¼šæŒ‰ç®­å¤´ç»“æ„å±•ç¤ºå‡½æ•°ç±»å‹ã€è¿”å›å€¼ç±»å‹ã€å‚æ•°ç±»å‹å…³ç³»ï¼Œéå¸¸é€‚åˆå¤ä¹ æ‰“å°ã€‚
