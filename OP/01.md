

# ğŸ§± ä¸€ã€ç±»ä¸å¯¹è±¡ï¼ˆClasses & Objectsï¼‰

---

## âœ… 1ï¸âƒ£ å®šä¹‰ç±»ä¸åˆ›å»ºå¯¹è±¡

ä½¿ç”¨ `class` å…³é”®å­—å®šä¹‰ç±»ï¼Œç”¨ `new`ï¼ˆå¯çœç•¥ï¼‰åˆ›å»ºå®ä¾‹ã€‚

```dart
class Person {
  // å±æ€§ï¼ˆFieldsï¼‰
  String name;
  int age;

  // æ–¹æ³•ï¼ˆMethodsï¼‰
  void sayHello() {
    print('ä½ å¥½ï¼Œæˆ‘æ˜¯ $nameï¼Œä»Šå¹´ $age å²');
  }
}

void main() {
  var p = Person();  // åˆ›å»ºå®ä¾‹ï¼ˆnew å¯çœç•¥ï¼‰
  p.name = 'å¼ ä¸‰';
  p.age = 20;
  p.sayHello(); // è¾“å‡ºï¼šä½ å¥½ï¼Œæˆ‘æ˜¯ å¼ ä¸‰ï¼Œä»Šå¹´ 20 å²
}
```

---

# ğŸ—ï¸ äºŒã€æ„é€ å‡½æ•°ï¼ˆConstructorsï¼‰

---

Dart æä¾›å¤šç§æ„é€ å‡½æ•°ï¼Œçµæ´»åˆå¼ºå¤§ã€‚

---

## âœ… 1ï¸âƒ£ é»˜è®¤æ„é€ å‡½æ•°

```dart
class Person {
  String name;
  int age;

  // é»˜è®¤æ„é€ å‡½æ•°
  Person(this.name, this.age);
}

void main() {
  var p = Person('æå››', 25);
  print('${p.name} - ${p.age}');
}
```

> ğŸ’¡ `this.name` æ˜¯ç®€å†™å½¢å¼ï¼Œç­‰ä»·äºï¼š
>
> ```dart
> Person(String name, int age) {
>   this.name = name;
>   this.age = age;
> }
> ```

---

## âœ… 2ï¸âƒ£ å‘½åæ„é€ å‡½æ•°

> ç”¨äºåˆ›å»ºå¤šç§æ„é€ æ–¹å¼ï¼Œæ¯”å¦‚ä» JSON åˆå§‹åŒ–å¯¹è±¡ã€‚

```dart
class Person {
  String name;
  int age;

  Person(this.name, this.age);

  // å‘½åæ„é€ å‡½æ•°
  Person.fromJSON(Map<String, dynamic> json)
      : name = json['name'],
        age = json['age'];
}

void main() {
  var json = {'name': 'ç‹äº”', 'age': 30};
  var p = Person.fromJSON(json);
  print('${p.name} - ${p.age}'); // ç‹äº” - 30
}
```

---

## âœ… 3ï¸âƒ£ å·¥å‚æ„é€ å‡½æ•°ï¼ˆfactoryï¼‰

> `factory` æ„é€ å‡½æ•°ä¸ä¼šæ€»æ˜¯åˆ›å»ºæ–°å®ä¾‹ï¼Œå¸¸ç”¨äº **å•ä¾‹æ¨¡å¼**ã€‚

```dart
class Logger {
  static final Logger _instance = Logger._internal();

  factory Logger() {
    return _instance; // æ€»æ˜¯è¿”å›åŒä¸€ä¸ªå®ä¾‹
  }

  Logger._internal(); // ç§æœ‰å‘½åæ„é€ å‡½æ•°

  void log(String msg) => print('Log: $msg');
}

void main() {
  var a = Logger();
  var b = Logger();
  print(identical(a, b)); // true
}
```

---

## âœ… 4ï¸âƒ£ å¸¸é‡æ„é€ å‡½æ•°ï¼ˆconstï¼‰

> `const` å¯¹è±¡åœ¨ç¼–è¯‘æ—¶åˆ›å»ºï¼Œä¸å¯å˜ã€‚

```dart
class Point {
  final int x;
  final int y;

  const Point(this.x, this.y);
}

void main() {
  const p1 = Point(1, 2);
  const p2 = Point(1, 2);
  print(identical(p1, p2)); // trueï¼ˆåŒä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡ï¼‰
}
```

---

## âœ… 5ï¸âƒ£ åˆå§‹åŒ–åˆ—è¡¨ï¼ˆInitializer Listï¼‰

> åœ¨æ„é€ å‡½æ•°ä½“æ‰§è¡Œå‰åˆå§‹åŒ–å±æ€§ã€‚

```dart
class Rectangle {
  final int width;
  final int height;
  final int area;

  Rectangle(this.width, this.height) : area = width * height;
}

void main() {
  var r = Rectangle(4, 5);
  print(r.area); // 20
}
```

---

# ğŸ§© ä¸‰ã€æ ¸å¿ƒ OOP æ¦‚å¿µ

---

## ğŸ§± 1ï¸âƒ£ å°è£…ï¼ˆEncapsulationï¼‰

Dart æ²¡æœ‰ `public` / `private` å…³é”®å­—ï¼Œ
ä½†ä»¥ä¸‹åˆ’çº¿ `_` å¼€å¤´è¡¨ç¤º **åº“ç§æœ‰ï¼ˆlibrary privateï¼‰**ã€‚

```dart
class Account {
  String _password = '123456'; // ç§æœ‰å±æ€§

  // Getter
  String get password => _password;

  // Setter
  set password(String value) {
    if (value.length >= 6) {
      _password = value;
    } else {
      print('å¯†ç å¤ªçŸ­');
    }
  }
}

void main() {
  var acc = Account();
  print(acc.password);
  acc.password = 'abc'; // å¯†ç å¤ªçŸ­
}
```

---

## ğŸ§¬ 2ï¸âƒ£ ç»§æ‰¿ï¼ˆInheritanceï¼‰

ä½¿ç”¨ `extends` å®ç°ç»§æ‰¿ã€‚

```dart
class Animal {
  void speak() => print('åŠ¨ç‰©å‘å‡ºå£°éŸ³');
}

class Dog extends Animal {
  @override
  void speak() => print('æ±ªæ±ªæ±ª');
}

void main() {
  var d = Dog();
  d.speak(); // æ±ªæ±ªæ±ª
}
```

### ä½¿ç”¨ `super` è°ƒç”¨çˆ¶ç±»æ–¹æ³•æˆ–æ„é€ å‡½æ•°

```dart
class Animal {
  String name;
  Animal(this.name);

  void move() => print('$name åœ¨ç§»åŠ¨');
}

class Bird extends Animal {
  Bird(String name) : super(name); // è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°

  @override
  void move() {
    super.move(); // è°ƒç”¨çˆ¶ç±»æ–¹æ³•
    print('$name åœ¨é£');
  }
}

void main() {
  var b = Bird('éº»é›€');
  b.move();
}
```

---

## ğŸ§  3ï¸âƒ£ æŠ½è±¡ï¼ˆAbstractionï¼‰

### æŠ½è±¡ç±»ï¼š`abstract class`

```dart
abstract class Shape {
  void draw(); // æŠ½è±¡æ–¹æ³•
}

class Circle extends Shape {
  @override
  void draw() => print('ç”»åœ†å½¢');
}

void main() {
  Shape s = Circle();
  s.draw();
}
```

> ğŸ’¡ æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½è¢«ç»§æ‰¿ã€‚

---

## ğŸ§© 4ï¸âƒ£ æ¥å£ï¼ˆInterfacesï¼‰

Dart ä¸­æ²¡æœ‰ `interface` å…³é”®å­—ï¼Œ
æ¯ä¸ªç±» **å¤©ç„¶å®šä¹‰äº†ä¸€ä¸ªæ¥å£**ã€‚
ä½¿ç”¨ `implements` å®ç°æ¥å£ï¼ˆå¿…é¡»é‡å†™æ‰€æœ‰æ–¹æ³•ï¼‰ã€‚

```dart
class Logger {
  void log(String msg) => print('log: $msg');
}

class FileLogger implements Logger {
  @override
  void log(String msg) => print('å†™å…¥æ–‡ä»¶: $msg');
}

void main() {
  var logger = FileLogger();
  logger.log('æµ‹è¯•');
}
```

---

# ğŸ§¬ å››ã€Dart ç‰¹è‰² OOP æœºåˆ¶

---

## âš™ï¸ 1ï¸âƒ£ Mixinsï¼ˆæ··å…¥ï¼‰

> Mixin æ˜¯ä¸€ç§â€œä»£ç å¤ç”¨æœºåˆ¶â€ï¼Œç±»ä¼¼å¤šç»§æ‰¿ï¼Œä½†æ›´å®‰å…¨ã€‚

```dart
mixin Fly {
  void fly() => print('æˆ‘èƒ½é£');
}

mixin Swim {
  void swim() => print('æˆ‘èƒ½æ¸¸æ³³');
}

class Animal {}

class Duck extends Animal with Fly, Swim {}

void main() {
  var duck = Duck();
  duck.fly();
  duck.swim();
}
```

### é™åˆ¶ä½¿ç”¨èŒƒå›´ï¼ˆonï¼‰

```dart
class Animal {}

mixin Fly on Animal {
  void fly() => print('åŠ¨ç‰©æ‰èƒ½é£');
}

class Bird extends Animal with Fly {}

void main() {
  var b = Bird();
  b.fly();
}
```

---

## ğŸ¯ 2ï¸âƒ£ æšä¸¾ï¼ˆEnumsï¼‰

> Dart 2.17+ æ”¯æŒå¢å¼ºå‹æšä¸¾ï¼Œå¯æ·»åŠ å­—æ®µä¸æ–¹æ³•ã€‚

```dart
enum Color {
  red(1),
  green(2),
  blue(3);

  final int code;
  const Color(this.code);

  void describe() => print('é¢œè‰²ç : $code');
}

void main() {
  var c = Color.red;
  print(c.name); // red
  c.describe(); // é¢œè‰²ç : 1
}
```

---

## ğŸ§© 3ï¸âƒ£ æ‰©å±•æ–¹æ³•ï¼ˆExtension Methodsï¼‰

> ä¸ºå·²æœ‰ç±»æ·»åŠ æ–°åŠŸèƒ½ï¼ˆå³ä½¿ä½ ä¸èƒ½ä¿®æ”¹å®ƒï¼‰ã€‚

```dart
extension StringExtension on String {
  bool get isEmail => contains('@');
  String capitalize() => this[0].toUpperCase() + substring(1);
}

void main() {
  var email = 'test@example.com';
  print(email.isEmail); // true

  var name = 'dart';
  print(name.capitalize()); // Dart
}
```

---

# ğŸ“˜ äº”ã€OOP ç»¼åˆå®æˆ˜æ¡ˆä¾‹

---

## ğŸ§  æ¡ˆä¾‹ï¼šå‘˜å·¥ç³»ç»Ÿ

```dart
abstract class Employee {
  String name;
  int age;

  Employee(this.name, this.age);

  void work();
}

mixin Report {
  void generateReport() => print('ç”Ÿæˆå·¥ä½œæŠ¥å‘Š...');
}

class Developer extends Employee with Report {
  String language;

  Developer(String name, int age, this.language) : super(name, age);

  @override
  void work() => print('$name åœ¨å†™ $language ä»£ç ');
}

class Manager extends Employee {
  Manager(String name, int age) : super(name, age);

  @override
  void work() => print('$name åœ¨ç®¡ç†å›¢é˜Ÿ');
}

void main() {
  var dev = Developer('å°æ', 25, 'Dart');
  dev.work();
  dev.generateReport();

  var mgr = Manager('è€ç‹', 40);
  mgr.work();
}
```

è¾“å‡ºï¼š

```
å°æ åœ¨å†™ Dart ä»£ç 
ç”Ÿæˆå·¥ä½œæŠ¥å‘Š...
è€ç‹ åœ¨ç®¡ç†å›¢é˜Ÿ
```

---

# âœ… å…­ã€æ€»ç»“è¡¨

| ç‰¹æ€§              | å…³é”®å­—               | ç¤ºä¾‹                            |
| --------------- | ----------------- | ----------------------------- |
| ç±»å®šä¹‰             | `class`           | `class Person {}`             |
| ç»§æ‰¿              | `extends`         | `class Dog extends Animal`    |
| æŠ½è±¡ç±»             | `abstract`        | `abstract class Shape {}`     |
| æ¥å£å®ç°            | `implements`      | `class A implements B`        |
| æ··å…¥              | `mixin` / `with`  | `class C with MixinA, MixinB` |
| å‘½åæ„é€ å‡½æ•°          | `ClassName.xxx()` | `Person.fromJSON()`           |
| å·¥å‚æ„é€ å‡½æ•°          | `factory`         | `factory Logger()`            |
| å¸¸é‡æ„é€ å‡½æ•°          | `const`           | `const Point()`               |
| Getter / Setter | `get`, `set`      | `get name => _name;`          |
| ç§æœ‰æˆå‘˜            | `_` å‰ç¼€            | `_age`                        |
| æ‰©å±•æ–¹æ³•            | `extension`       | `extension on String {}`      |
| æšä¸¾              | `enum`            | `enum Color { red, green }`   |

---

æ˜¯å¦å¸Œæœ›æˆ‘æ¥ç€å†™ä¸‹ä¸€ç«  ğŸ‘‰
**ã€ŒDart æ³›å‹ï¼ˆGenericsï¼‰+ ç±»ä¸­çš„ç±»å‹å‚æ•° + æ³›å‹çº¦æŸ + æ³›å‹å‡½æ•°ã€è¯¦ç»†æ•™ç¨‹**ï¼Ÿ
è¿™æ˜¯ Dart OOP çš„æœ€åä¸€å—ï¼Œä¹Ÿæ˜¯ Flutter æ¶æ„ä¸­éå¸¸å¸¸ç”¨çš„ä¸€éƒ¨åˆ†ã€‚
