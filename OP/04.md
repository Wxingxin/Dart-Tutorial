éå¸¸å¥½ ğŸ‘ï¼
é‚£æˆ‘ä»¬ç»§ç»­è¿›é˜¶ï¼Œè¿›å…¥ Dart çš„â€”â€”

# ğŸ§­ã€Šå¯¹è±¡è¿›é˜¶ç¯‡ã€‹ï¼šDart é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰å¤§å…¨

> ç»“åˆ**ç»å…¸ã€ç®€å•ã€æ˜äº†çš„ä»£ç æ¡ˆä¾‹**ï¼Œè®©ä½ èƒ½åœ¨ Flutter ä¸ Dart é¡¹ç›®ä¸­ç›´æ¥ä¸Šæ‰‹ã€‚

---

## ğŸ§© ä¸€ã€æŠ½è±¡ç±»ï¼ˆ`abstract`ï¼‰

æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½è¢«ç»§æ‰¿ã€‚
ç”¨äºå®šä¹‰**è§„èŒƒ**ï¼Œæ¯”å¦‚ Flutter çš„ç»„ä»¶åŸºç±»ã€‚

```dart
abstract class Animal {
  void eat();  // æŠ½è±¡æ–¹æ³•ï¼Œæ²¡æœ‰å®ç°
  void sleep() => print("åŠ¨ç‰©åœ¨ç¡è§‰"); // å¯ä»¥åŒ…å«æ™®é€šæ–¹æ³•
}

class Dog extends Animal {
  @override
  void eat() => print("ç‹—åœ¨å•ƒéª¨å¤´");
}

void main() {
  Dog d = Dog();
  d.eat();   // ç‹—åœ¨å•ƒéª¨å¤´
  d.sleep(); // åŠ¨ç‰©åœ¨ç¡è§‰
}
```

ğŸ§  **è¦ç‚¹**ï¼š

* æŠ½è±¡ç±»å¯æœ‰å®ç°ã€‚
* æŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨å­ç±»ä¸­å®ç°ã€‚

---

## âš™ï¸ äºŒã€æ¥å£ï¼ˆ`implements`ï¼‰

Dart ä¸­æ²¡æœ‰å•ç‹¬çš„ `interface` å…³é”®å­—ï¼Œ
ä»»ä½•ç±»éƒ½å¯ä»¥å½“æ¥å£ä½¿ç”¨ã€‚

```dart
class Logger {
  void log(String msg) => print("æ—¥å¿—: $msg");
}

class FileLogger implements Logger {
  @override
  void log(String msg) => print("å†™å…¥æ–‡ä»¶: $msg");
}

void main() {
  FileLogger f = FileLogger();
  f.log("ç¨‹åºè¿è¡Œä¸­...");
}
```

ğŸ’¡ **åŒºåˆ«**ï¼š

* `extends`ï¼šç»§æ‰¿çˆ¶ç±»çš„å®ç°ã€‚
* `implements`ï¼šåªç»§æ‰¿æ¥å£è§„èŒƒï¼Œ**å¿…é¡»é‡å†™æ‰€æœ‰æ–¹æ³•**ã€‚

---

## ğŸ§¬ ä¸‰ã€Mixinï¼ˆæ··å…¥ï¼Œå¤šç»§æ‰¿æ–¹å¼ï¼‰

Dart ä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œä½†å¯ç”¨ **mixin æ··å…¥å¤šä¸ªåŠŸèƒ½æ¨¡å—**ã€‚

```dart
mixin Fly {
  void fly() => print("æˆ‘ä¼šé£");
}

mixin Swim {
  void swim() => print("æˆ‘ä¼šæ¸¸æ³³");
}

class Duck with Fly, Swim {
  void show() => print("æˆ‘æ˜¯ä¸€åªé¸­å­");
}

void main() {
  Duck d = Duck();
  d.show();  // æˆ‘æ˜¯ä¸€åªé¸­å­
  d.fly();   // æˆ‘ä¼šé£
  d.swim();  // æˆ‘ä¼šæ¸¸æ³³
}
```

ğŸ§  **è¦ç‚¹**ï¼š

* mixin æ˜¯åŠŸèƒ½æ¨¡å—ã€‚
* ç”¨ `with` æ··å…¥å¤šä¸ªåŠŸèƒ½ã€‚
* Flutter ä¸­å¾ˆå¤š Widget ä¹Ÿç”¨äº† mixinï¼Œæ¯”å¦‚ `SingleTickerProviderStateMixin`ã€‚

---

## ğŸ§± å››ã€æ³›å‹ç±»ï¼ˆGeneric Classï¼‰

æ³›å‹è®©ç±»èƒ½æ“ä½œå¤šç§æ•°æ®ç±»å‹ã€‚

```dart
class Box<T> {
  T content;

  Box(this.content);

  void show() => print("å†…å®¹: $content");
}

void main() {
  Box<int> intBox = Box(123);
  Box<String> strBox = Box("Hello Dart");
  intBox.show(); // å†…å®¹: 123
  strBox.show(); // å†…å®¹: Hello Dart
}
```

ğŸ’¡ **åº”ç”¨åœºæ™¯**ï¼š

* é›†åˆç±»ï¼ˆå¦‚ `List<T>`ã€`Map<K, V>`ï¼‰
* æ•°æ®å°è£…ç±»ã€å“åº”æ¨¡å‹

---

## ğŸ§® äº”ã€æ“ä½œç¬¦é‡è½½ï¼ˆ`operator`ï¼‰

å¯ä»¥é‡è½½ `+`ã€`-`ã€`==` ç­‰æ“ä½œç¬¦ã€‚

```dart
class Point {
  int x, y;

  Point(this.x, this.y);

  Point operator +(Point other) {
    return Point(x + other.x, y + other.y);
  }

  @override
  String toString() => "($x, $y)";
}

void main() {
  var p1 = Point(2, 3);
  var p2 = Point(4, 5);
  var p3 = p1 + p2; // è°ƒç”¨ operator +
  print(p3); // (6, 8)
}
```

ğŸ§  **å¸¸è§å¯é‡è½½æ“ä½œç¬¦**ï¼š

| æ“ä½œç¬¦  | ç”¨æ³•       | è¯´æ˜   |
| ---- | -------- | ---- |
| `+`  | `a + b`  | åŠ æ³•   |
| `-`  | `a - b`  | å‡æ³•   |
| `*`  | `a * b`  | ä¹˜æ³•   |
| `/`  | `a / b`  | é™¤æ³•   |
| `[]` | `a[i]`   | ä¸‹æ ‡è®¿é—® |
| `==` | `a == b` | æ¯”è¾ƒç›¸ç­‰ |

---

## ğŸ§  å…­ã€ç»§æ‰¿ + Mixins + æ¥å£ ç»„åˆæ¡ˆä¾‹

```dart
abstract class Animal {
  void eat();
}

mixin Run {
  void run() => print("æˆ‘ä¼šè·‘");
}

mixin Jump {
  void jump() => print("æˆ‘ä¼šè·³");
}

class Dog extends Animal with Run, Jump implements Comparable<Dog> {
  String name;
  int speed;

  Dog(this.name, this.speed);

  @override
  void eat() => print("$name æ­£åœ¨åƒéª¨å¤´");

  @override
  int compareTo(Dog other) => speed - other.speed;
}

void main() {
  var d1 = Dog("æ—ºè´¢", 10);
  var d2 = Dog("å°é»‘", 15);

  d1.eat();
  d1.run();
  d1.jump();

  print(d1.compareTo(d2)); // -5 è¯´æ˜ d1 æ¯” d2 æ…¢
}
```

ğŸ§© è¿™ä¸ªä¾‹å­ç»¼åˆå±•ç¤ºäº†ï¼š

* æŠ½è±¡ç±»ï¼ˆå®šä¹‰åŠ¨ç‰©è§„èŒƒï¼‰
* mixinï¼ˆå¢åŠ â€œä¼šè·‘â€â€œä¼šè·³â€åŠŸèƒ½ï¼‰
* æ¥å£ï¼ˆComparable å®ç°æ¯”è¾ƒåŠŸèƒ½ï¼‰

---

## ğŸ”’ ä¸ƒã€å°è£…ï¼ˆGetter / Setterï¼‰

é€šè¿‡ `get` / `set` æ§åˆ¶å±æ€§è®¿é—®æƒé™ï¼š

```dart
class BankAccount {
  double _balance = 0; // ç§æœ‰å±æ€§

  double get balance => _balance;

  set deposit(double amount) {
    if (amount > 0) _balance += amount;
  }

  set withdraw(double amount) {
    if (amount <= _balance) _balance -= amount;
  }
}

void main() {
  var acc = BankAccount();
  acc.deposit = 1000;
  acc.withdraw = 200;
  print(acc.balance); // 800
}
```

ğŸ’¡ ç”¨äºä¿æŠ¤å¯¹è±¡å†…éƒ¨çŠ¶æ€ã€‚

---

## ğŸ§± å…«ã€é™æ€æˆå‘˜ï¼ˆ`static`ï¼‰

é™æ€å±æ€§æˆ–æ–¹æ³•å±äº**ç±»æœ¬èº«**ï¼Œä¸æ˜¯å¯¹è±¡ã€‚

```dart
class MathUtil {
  static double pi = 3.14159;

  static double circleArea(double r) => pi * r * r;
}

void main() {
  print(MathUtil.pi);
  print(MathUtil.circleArea(5)); // 78.53975
}
```

ğŸ’¡ Flutter ä¸­ `Colors.red`ã€`Icons.home` éƒ½æ˜¯é™æ€ç”¨æ³•ã€‚

---

## âš¡ ä¹ã€æ‹·è´æ„é€ å‡½æ•°ï¼ˆcopy constructorï¼‰

å¸¸è§äº Flutter æ¨¡å‹ç±»ï¼ˆæ¯”å¦‚ `copyWith` æ¨¡å¼ï¼‰ï¼š

```dart
class User {
  final String name;
  final int age;

  User(this.name, this.age);

  User copyWith({String? name, int? age}) {
    return User(name ?? this.name, age ?? this.age);
  }
}

void main() {
  var u1 = User("å¼ ä¸‰", 20);
  var u2 = u1.copyWith(age: 21);
  print(u1.name); // å¼ ä¸‰
  print(u2.age);  // 21
}
```

---

## ğŸ§° åã€ç»¼åˆå®æˆ˜æ¡ˆä¾‹ï¼šDart OOP æ¨¡æ‹Ÿå•†åº—ç³»ç»Ÿ

```dart
abstract class Product {
  String name;
  double price;

  Product(this.name, this.price);

  void showInfo() => print("$name: ï¿¥$price");
}

mixin Discount {
  double discount(double price, double rate) => price * rate;
}

class Book extends Product with Discount {
  String author;

  Book(String name, this.author, double price) : super(name, price);

  @override
  void showInfo() {
    print("ä¹¦ç±ï¼š$name ä½œè€…ï¼š$author ä»·æ ¼ï¼šï¿¥$price");
  }
}

class Store {
  List<Product> _items = [];

  void add(Product p) => _items.add(p);

  void listAll() {
    print("å•†åº—å•†å“åˆ—è¡¨ï¼š");
    for (var item in _items) {
      item.showInfo();
    }
  }
}

void main() {
  var store = Store();
  var book = Book("Dartç¼–ç¨‹æŒ‡å—", "ææ˜", 88);
  book.price = book.discount(book.price, 0.8);

  store.add(book);
  store.listAll();
}
```

è¾“å‡ºï¼š

```
å•†åº—å•†å“åˆ—è¡¨ï¼š
ä¹¦ç±ï¼šDartç¼–ç¨‹æŒ‡å— ä½œè€…ï¼šææ˜ ä»·æ ¼ï¼šï¿¥70.4
```

---

## ğŸ§­ æ€»ç»“ï¼šDart å¯¹è±¡è¿›é˜¶å¸¸ç”¨ç‰¹æ€§

| ç‰¹æ€§            | å…³é”®å­—              | åŠŸèƒ½      |
| ------------- | ---------------- | ------- |
| æŠ½è±¡ç±»           | `abstract`       | å®šä¹‰è§„èŒƒ    |
| æ¥å£            | `implements`     | å®ç°æ¥å£è§„èŒƒ  |
| æ··å…¥            | `mixin` / `with` | å¤ç”¨åŠŸèƒ½    |
| æ³›å‹            | `<T>`            | é€‚é…å¤šç±»å‹   |
| æ“ä½œç¬¦é‡è½½         | `operator`       | è‡ªå®šä¹‰ç¬¦å·æ“ä½œ |
| é™æ€æˆå‘˜          | `static`         | ç±»çº§å±æ€§æˆ–æ–¹æ³• |
| Getter/Setter | `get` / `set`    | å°è£…è®¿é—®    |
| å·¥å‚æ„é€           | `factory`        | æ§åˆ¶å®ä¾‹åŒ–   |
| æ‹·è´æ„é€           | `copyWith`       | åˆ›å»ºä¿®æ”¹ç‰ˆå¯¹è±¡ |

---

æ˜¯å¦å¸Œæœ›æˆ‘**ä¸‹ä¸€æ­¥å¸®ä½ å†™ä¸€ä»½ã€ŠDart ç±»ä¸å¯¹è±¡å®æˆ˜ç»ƒä¹ é¢˜åˆé›†ï¼ˆå«è§£æï¼‰ã€‹**ï¼Ÿ
æˆ‘å¯ä»¥æ•´ç†å‡º 10 é“ä»åŸºç¡€åˆ°ä¸­çº§çš„ç»ƒä¹ ï¼Œæ¶µç›–ç»§æ‰¿ã€mixinã€æ¥å£ã€æ³›å‹ã€æ‹·è´ä¸ JSON è½¬æ¢ç­‰ã€‚
