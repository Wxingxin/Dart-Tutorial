非常好 👍！
那我们继续进阶，进入 Dart 的——

# 🧭《对象进阶篇》：Dart 面向对象编程（OOP）大全

> 结合**经典、简单、明了的代码案例**，让你能在 Flutter 与 Dart 项目中直接上手。

---

## 🧩 一、抽象类（`abstract`）

抽象类不能被实例化，只能被继承。
用于定义**规范**，比如 Flutter 的组件基类。

```dart
abstract class Animal {
  void eat();  // 抽象方法，没有实现
  void sleep() => print("动物在睡觉"); // 可以包含普通方法
}

class Dog extends Animal {
  @override
  void eat() => print("狗在啃骨头");
}

void main() {
  Dog d = Dog();
  d.eat();   // 狗在啃骨头
  d.sleep(); // 动物在睡觉
}
```

🧠 **要点**：

* 抽象类可有实现。
* 抽象方法必须在子类中实现。

---

## ⚙️ 二、接口（`implements`）

Dart 中没有单独的 `interface` 关键字，
任何类都可以当接口使用。

```dart
class Logger {
  void log(String msg) => print("日志: $msg");
}

class FileLogger implements Logger {
  @override
  void log(String msg) => print("写入文件: $msg");
}

void main() {
  FileLogger f = FileLogger();
  f.log("程序运行中...");
}
```

💡 **区别**：

* `extends`：继承父类的实现。
* `implements`：只继承接口规范，**必须重写所有方法**。

---

## 🧬 三、Mixin（混入，多继承方式）

Dart 不支持多继承，但可用 **mixin 混入多个功能模块**。

```dart
mixin Fly {
  void fly() => print("我会飞");
}

mixin Swim {
  void swim() => print("我会游泳");
}

class Duck with Fly, Swim {
  void show() => print("我是一只鸭子");
}

void main() {
  Duck d = Duck();
  d.show();  // 我是一只鸭子
  d.fly();   // 我会飞
  d.swim();  // 我会游泳
}
```

🧠 **要点**：

* mixin 是功能模块。
* 用 `with` 混入多个功能。
* Flutter 中很多 Widget 也用了 mixin，比如 `SingleTickerProviderStateMixin`。

---

## 🧱 四、泛型类（Generic Class）

泛型让类能操作多种数据类型。

```dart
class Box<T> {
  T content;

  Box(this.content);

  void show() => print("内容: $content");
}

void main() {
  Box<int> intBox = Box(123);
  Box<String> strBox = Box("Hello Dart");
  intBox.show(); // 内容: 123
  strBox.show(); // 内容: Hello Dart
}
```

💡 **应用场景**：

* 集合类（如 `List<T>`、`Map<K, V>`）
* 数据封装类、响应模型

---

## 🧮 五、操作符重载（`operator`）

可以重载 `+`、`-`、`==` 等操作符。

```dart
class Point {
  int x, y;

  Point(this.x, this.y);

  Point operator +(Point other) {
    return Point(x + other.x, y + other.y);
  }

  @override
  String toString() => "($x, $y)";
}

void main() {
  var p1 = Point(2, 3);
  var p2 = Point(4, 5);
  var p3 = p1 + p2; // 调用 operator +
  print(p3); // (6, 8)
}
```

🧠 **常见可重载操作符**：

| 操作符  | 用法       | 说明   |
| ---- | -------- | ---- |
| `+`  | `a + b`  | 加法   |
| `-`  | `a - b`  | 减法   |
| `*`  | `a * b`  | 乘法   |
| `/`  | `a / b`  | 除法   |
| `[]` | `a[i]`   | 下标访问 |
| `==` | `a == b` | 比较相等 |

---

## 🧠 六、继承 + Mixins + 接口 组合案例

```dart
abstract class Animal {
  void eat();
}

mixin Run {
  void run() => print("我会跑");
}

mixin Jump {
  void jump() => print("我会跳");
}

class Dog extends Animal with Run, Jump implements Comparable<Dog> {
  String name;
  int speed;

  Dog(this.name, this.speed);

  @override
  void eat() => print("$name 正在吃骨头");

  @override
  int compareTo(Dog other) => speed - other.speed;
}

void main() {
  var d1 = Dog("旺财", 10);
  var d2 = Dog("小黑", 15);

  d1.eat();
  d1.run();
  d1.jump();

  print(d1.compareTo(d2)); // -5 说明 d1 比 d2 慢
}
```

🧩 这个例子综合展示了：

* 抽象类（定义动物规范）
* mixin（增加“会跑”“会跳”功能）
* 接口（Comparable 实现比较功能）

---

## 🔒 七、封装（Getter / Setter）

通过 `get` / `set` 控制属性访问权限：

```dart
class BankAccount {
  double _balance = 0; // 私有属性

  double get balance => _balance;

  set deposit(double amount) {
    if (amount > 0) _balance += amount;
  }

  set withdraw(double amount) {
    if (amount <= _balance) _balance -= amount;
  }
}

void main() {
  var acc = BankAccount();
  acc.deposit = 1000;
  acc.withdraw = 200;
  print(acc.balance); // 800
}
```

💡 用于保护对象内部状态。

---

## 🧱 八、静态成员（`static`）

静态属性或方法属于**类本身**，不是对象。

```dart
class MathUtil {
  static double pi = 3.14159;

  static double circleArea(double r) => pi * r * r;
}

void main() {
  print(MathUtil.pi);
  print(MathUtil.circleArea(5)); // 78.53975
}
```

💡 Flutter 中 `Colors.red`、`Icons.home` 都是静态用法。

---

## ⚡ 九、拷贝构造函数（copy constructor）

常见于 Flutter 模型类（比如 `copyWith` 模式）：

```dart
class User {
  final String name;
  final int age;

  User(this.name, this.age);

  User copyWith({String? name, int? age}) {
    return User(name ?? this.name, age ?? this.age);
  }
}

void main() {
  var u1 = User("张三", 20);
  var u2 = u1.copyWith(age: 21);
  print(u1.name); // 张三
  print(u2.age);  // 21
}
```

---

## 🧰 十、综合实战案例：Dart OOP 模拟商店系统

```dart
abstract class Product {
  String name;
  double price;

  Product(this.name, this.price);

  void showInfo() => print("$name: ￥$price");
}

mixin Discount {
  double discount(double price, double rate) => price * rate;
}

class Book extends Product with Discount {
  String author;

  Book(String name, this.author, double price) : super(name, price);

  @override
  void showInfo() {
    print("书籍：$name 作者：$author 价格：￥$price");
  }
}

class Store {
  List<Product> _items = [];

  void add(Product p) => _items.add(p);

  void listAll() {
    print("商店商品列表：");
    for (var item in _items) {
      item.showInfo();
    }
  }
}

void main() {
  var store = Store();
  var book = Book("Dart编程指南", "李明", 88);
  book.price = book.discount(book.price, 0.8);

  store.add(book);
  store.listAll();
}
```

输出：

```
商店商品列表：
书籍：Dart编程指南 作者：李明 价格：￥70.4
```

---

## 🧭 总结：Dart 对象进阶常用特性

| 特性            | 关键字              | 功能      |
| ------------- | ---------------- | ------- |
| 抽象类           | `abstract`       | 定义规范    |
| 接口            | `implements`     | 实现接口规范  |
| 混入            | `mixin` / `with` | 复用功能    |
| 泛型            | `<T>`            | 适配多类型   |
| 操作符重载         | `operator`       | 自定义符号操作 |
| 静态成员          | `static`         | 类级属性或方法 |
| Getter/Setter | `get` / `set`    | 封装访问    |
| 工厂构造          | `factory`        | 控制实例化   |
| 拷贝构造          | `copyWith`       | 创建修改版对象 |

---

是否希望我**下一步帮你写一份《Dart 类与对象实战练习题合集（含解析）》**？
我可以整理出 10 道从基础到中级的练习，涵盖继承、mixin、接口、泛型、拷贝与 JSON 转换等。
