太棒了 🎯
那我们正式进入 Dart 面向对象学习的“实战阶段”——

# 🧭《Dart 类与对象实战练习大全（含解析）》

> **20 个经典案例 + 详细讲解**
> 从基础到进阶，帮助你真正掌握 Dart 的对象、类、继承、mixin、泛型、JSON 等核心概念。

---

## 🌱 **基础篇（1–7）**

---

### 🧩 案例 1：定义并使用一个类

```dart
class Person {
  String name;
  int age;

  Person(this.name, this.age);

  void introduce() {
    print("我是$name，今年$age岁。");
  }
}

void main() {
  var p = Person("小明", 20);
  p.introduce();
}
```

🧠 **要点**：类 = 属性 + 方法；构造函数直接初始化。

---

### 🧩 案例 2：命名构造函数

```dart
class Point {
  int x, y;

  Point(this.x, this.y);
  Point.origin() : x = 0, y = 0;

  void show() => print("($x, $y)");
}

void main() {
  var p1 = Point(5, 10);
  var p2 = Point.origin();
  p1.show();
  p2.show();
}
```

✅ **用法**：提供不同的初始化方式。

---

### 🧩 案例 3：使用级联操作符（`..`）

```dart
class Car {
  String brand = "";
  int speed = 0;

  void start() => print("$brand 启动！");
  void drive() => print("$brand 以 $speed km/h 行驶中。");
}

void main() {
  Car()
    ..brand = "Tesla"
    ..speed = 120
    ..start()
    ..drive();
}
```

✅ **好处**：连续操作同一个对象，更简洁。

---

### 🧩 案例 4：私有属性与 Getter/Setter

```dart
class Account {
  double _balance = 0;

  double get balance => _balance;

  set deposit(double amount) => _balance += amount;

  set withdraw(double amount) {
    if (amount <= _balance) _balance -= amount;
  }
}

void main() {
  var acc = Account();
  acc.deposit = 1000;
  acc.withdraw = 200;
  print("余额: ${acc.balance}");
}
```

✅ **封装**：保护对象数据安全。

---

### 🧩 案例 5：对象比较与重载 `==`

```dart
class Student {
  String id;
  String name;

  Student(this.id, this.name);

  @override
  bool operator ==(Object other) =>
      other is Student && id == other.id;

  @override
  int get hashCode => id.hashCode;
}

void main() {
  var s1 = Student("001", "小红");
  var s2 = Student("001", "小红");
  print(s1 == s2); // true
}
```

✅ **实际意义**：在集合中判断相同对象时常用。

---

### 🧩 案例 6：toString() 打印对象

```dart
class Product {
  String name;
  double price;
  Product(this.name, this.price);

  @override
  String toString() => "Product(name: $name, price: ￥$price)";
}

void main() {
  print(Product("键盘", 99.9));
}
```

✅ **好处**：调试、日志更友好。

---

### 🧩 案例 7：静态成员

```dart
class MathUtil {
  static const double pi = 3.14159;
  static double area(double r) => pi * r * r;
}

void main() {
  print(MathUtil.pi);
  print(MathUtil.area(5));
}
```

✅ **应用**：工具类或常量类。

---

## 🧱 **进阶篇（8–14）**

---

### 🧩 案例 8：继承与方法重写

```dart
class Animal {
  void sound() => print("动物叫声");
}

class Dog extends Animal {
  @override
  void sound() => print("汪汪汪");
}

void main() {
  Animal a = Dog();
  a.sound();
}
```

✅ **要点**：多态调用。

---

### 🧩 案例 9：抽象类

```dart
abstract class Shape {
  double area();
}

class Circle extends Shape {
  double r;
  Circle(this.r);

  @override
  double area() => 3.14 * r * r;
}

void main() {
  Shape s = Circle(5);
  print(s.area());
}
```

✅ **场景**：定义统一接口。

---

### 🧩 案例 10：接口 implements

```dart
class Logger {
  void log(String msg) => print("日志：$msg");
}

class FileLogger implements Logger {
  @override
  void log(String msg) => print("写入文件：$msg");
}

void main() {
  Logger logger = FileLogger();
  logger.log("启动程序");
}
```

✅ **要点**：必须重写接口所有方法。

---

### 🧩 案例 11：Mixin 混入

```dart
mixin Fly {
  void fly() => print("我会飞");
}

mixin Swim {
  void swim() => print("我会游泳");
}

class Duck with Fly, Swim {
  void show() => print("我是一只鸭子");
}

void main() {
  var d = Duck();
  d.show();
  d.fly();
  d.swim();
}
```

✅ **要点**：实现多继承效果。

---

### 🧩 案例 12：工厂构造函数（单例）

```dart
class Database {
  static Database? _instance;
  Database._internal();

  factory Database() {
    _instance ??= Database._internal();
    return _instance!;
  }
}

void main() {
  var db1 = Database();
  var db2 = Database();
  print(db1 == db2); // true
}
```

✅ **用途**：确保全局只有一个实例。

---

### 🧩 案例 13：泛型类

```dart
class Box<T> {
  T content;
  Box(this.content);

  void show() => print("内容：$content");
}

void main() {
  var box1 = Box<int>(123);
  var box2 = Box<String>("Hello");
  box1.show();
  box2.show();
}
```

✅ **要点**：类型安全、可复用。

---

### 🧩 案例 14：操作符重载

```dart
class Point {
  int x, y;
  Point(this.x, this.y);

  Point operator +(Point other) => Point(x + other.x, y + other.y);

  @override
  String toString() => "($x, $y)";
}

void main() {
  var p1 = Point(1, 2);
  var p2 = Point(3, 4);
  print(p1 + p2); // (4, 6)
}
```

✅ **应用**：数学类、游戏物理等。

---

## ⚙️ **应用篇（15–20）**

---

### 🧩 案例 15：JSON 与对象互转

```dart
import 'dart:convert';

class User {
  String name;
  int age;

  User(this.name, this.age);

  factory User.fromJson(Map<String, dynamic> json) =>
      User(json['name'], json['age']);

  Map<String, dynamic> toJson() => {'name': name, 'age': age};
}

void main() {
  var u = User("小李", 25);
  String jsonStr = jsonEncode(u);
  print(jsonStr);

  var u2 = User.fromJson(jsonDecode(jsonStr));
  print("${u2.name} - ${u2.age}");
}
```

✅ **场景**：Flutter 网络请求常用。

---

### 🧩 案例 16：深拷贝 vs 浅拷贝

```dart
class Person {
  String name;
  List<String> hobbies;

  Person(this.name, this.hobbies);

  Person cloneShallow() => Person(name, hobbies);
  Person cloneDeep() => Person(name, List.from(hobbies));
}

void main() {
  var p1 = Person("小王", ["唱歌", "跳舞"]);
  var p2 = p1.cloneShallow();
  var p3 = p1.cloneDeep();

  p1.hobbies[0] = "画画";
  print(p2.hobbies); // ["画画", "跳舞"]
  print(p3.hobbies); // ["唱歌", "跳舞"]
}
```

✅ **要点**：`List.from()` 深拷贝副本。

---

### 🧩 案例 17：Mixin + 接口 + 继承 组合

```dart
abstract class Animal {
  void eat();
}

mixin Run {
  void run() => print("会跑");
}

class Dog extends Animal with Run implements Comparable<Dog> {
  String name;
  int speed;

  Dog(this.name, this.speed);

  @override
  void eat() => print("$name 吃骨头");

  @override
  int compareTo(Dog other) => speed - other.speed;
}

void main() {
  var d1 = Dog("旺财", 10);
  var d2 = Dog("小黑", 15);
  d1.eat();
  d1.run();
  print(d1.compareTo(d2));
}
```

✅ **综合能力演示**。

---

### 🧩 案例 18：拷贝构造 + 可选参数（Flutter 模式）

```dart
class User {
  final String name;
  final int age;
  final String city;

  User({required this.name, required this.age, required this.city});

  User copyWith({String? name, int? age, String? city}) {
    return User(
      name: name ?? this.name,
      age: age ?? this.age,
      city: city ?? this.city,
    );
  }
}

void main() {
  var u1 = User(name: "Tom", age: 20, city: "Beijing");
  var u2 = u1.copyWith(age: 21);
  print("${u2.name}, ${u2.age}, ${u2.city}");
}
```

✅ **典型 Flutter 数据模型写法**。

---

### 🧩 案例 19：对象数组与排序

```dart
class Product {
  String name;
  double price;

  Product(this.name, this.price);

  @override
  String toString() => "$name: ￥$price";
}

void main() {
  var products = [
    Product("鼠标", 59.9),
    Product("键盘", 129.0),
    Product("显示器", 999.0),
  ];

  products.sort((a, b) => a.price.compareTo(b.price));
  products.forEach(print);
}
```

✅ **经典业务场景**。

---

### 🧩 案例 20：商店系统（综合实战）

```dart
abstract class Product {
  String name;
  double price;
  Product(this.name, this.price);

  void showInfo() => print("$name: ￥$price");
}

mixin Discount {
  double discount(double price, double rate) => price * rate;
}

class Book extends Product with Discount {
  String author;
  Book(String name, this.author, double price) : super(name, price);

  @override
  void showInfo() {
    print("书籍《$name》 作者: $author 价格: ￥$price");
  }
}

class Store {
  List<Product> _items = [];
  void add(Product p) => _items.add(p);
  void showAll() {
    for (var item in _items) {
      item.showInfo();
    }
  }
}

void main() {
  var store = Store();
  var book = Book("Dart 入门", "李雷", 88);
  book.price = book.discount(book.price, 0.8);
  store.add(book);
  store.showAll();
}
```

✅ **综合：抽象类 + mixin + 封装 + 多对象操作**

---

## 🎓 总结一览表

| 类别      | 关键点           | 案例    |
| ------- | ------------- | ----- |
| 类与对象    | 属性/方法         | 1–4   |
| 构造函数    | 默认/命名/工厂      | 2、12  |
| 继承      | `extends`     | 8     |
| 抽象类     | `abstract`    | 9     |
| 接口      | `implements`  | 10    |
| mixin   | `with`        | 11、17 |
| 泛型      | `<T>`         | 13    |
| 操作符重载   | `operator`    | 14    |
| JSON序列化 | `jsonEncode`  | 15    |
| 深拷贝     | `List.from()` | 16    |
| 拷贝构造    | `copyWith`    | 18    |
| 排序      | `sort()`      | 19    |
| 综合项目    | 抽象+Mixin+多对象  | 20    |

---

是否希望我帮你出一份 **《Dart 面向对象练习题 + 答案解析（10题）》**，
题型包括“代码填空”“判断输出”“写出结果”“小型实现题”，帮助你巩固这些知识？
